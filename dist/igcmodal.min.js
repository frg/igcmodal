!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.igcmodal=f()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";function buildModal(){var contentHolder,cellHolder,boxHolder,innerHolder,docFrag;docFrag=document.createDocumentFragment(),this.modal=document.createElement("div"),this.modal.className=className+("string"==typeof this.options.className?" "+this.options.className:""),contentHolder=document.createElement("div"),cellHolder=document.createElement("div"),boxHolder=document.createElement("div"),innerHolder=document.createElement("div"),contentHolder.className=contentClassName,cellHolder.className=cellClassName,boxHolder.className=boxClassName,innerHolder.className=innerClassName,contentHolder.style.minWidth=this.options.minWidth+"px",contentHolder.style.maxWidth=this.options.maxWidth+"px",this.options.closeButton===!0?(this.closeButton=document.createElement("a"),this.closeButton.className=closeBtnClassName,this.closeButton.innerHTML="Ã—",boxHolder.appendChild(this.closeButton)):this.options.closeButton.tagName&&(this.closeButton=this.options.closeButton,boxHolder.appendChild(this.closeButton)),this.content=buildModalContent(this.options.content),contentHolder.appendChild(cellHolder),cellHolder.appendChild(boxHolder),boxHolder.appendChild(innerHolder),innerHolder.appendChild(this.content),this.modal.appendChild(contentHolder),docFrag.appendChild(this.modal),document.body.appendChild(docFrag),this.options.afterDomInit.call(this)}function buildModalContent(content){var contentHolder=document.createElement("div");return content.innerHTML&&(content=content.innerHTML),contentHolder.innerHTML=content,contentHolder}function initEvents(){this.closeButton&&this.closeButton.addEventListener("click",this.hide.bind(this)),this.options.hideOverlayOnClick===!0&&this.modal.addEventListener("click",function(e){this.content!==e.target&&!elementIsDescendant(this.content,e.target)&&this.closeButton&&this.closeButton!==e.target&&this.hide()}.bind(this))}function compareModalZIndex(modalA,modalB){return getModalZIndex(modalB.modal)-getModalZIndex(modalA.modal)}function getModalZIndex(element){return parseInt(document.defaultView.getComputedStyle(element,null).getPropertyValue("z-index"))||0}function elementHasClass(element,className){return(" "+element.className+" ").replace(/[\n\t]/g," ").indexOf(" "+className+" ")>-1}function elementRemoveClass(element,className){return element.className.replace(new RegExp("(\\s|^)"+className+"(\\s|$)"),"")}function elementIsDescendant(parent,child){for(var node=child.parentNode;null!=node;){if(node==parent)return!0;node=node.parentNode}return!1}function extendDefaults(defaults,options){var deafultProperty;for(deafultProperty in defaults)defaults.hasOwnProperty(deafultProperty)&&void 0===options[deafultProperty]&&(options[deafultProperty]=defaults[deafultProperty]);return options}var className,openClassName,closeBtnClassName,contentClassName,cellClassName,boxClassName,innerClassName,modalArr;className="igcmodal",openClassName=className+"-visible",closeBtnClassName=className+"-closebtn",contentClassName=className+"-content",cellClassName=className+"-cell",boxClassName=className+"-box",innerClassName=className+"-inner",modalArr=[];var defaultOptions={className:null,content:"",maxWidth:null,minWidth:null,closeButton:!0,hideOverlayOnClick:!0,beforeShow:function(){},afterShow:function(){},beforeHide:function(){},afterHide:function(){},afterDomInit:function(){},onOverlayClick:function(){}},_igcmodal=function(options){return new _igcmodal.init(options)};_igcmodal.prototype={show:function(){return this.options.beforeShow.call(this)!==!1&&(_igcmodal.prototype.forceShow.call(this),this.options.afterShow.call(this)),this},hide:function(){return this.options.beforeHide.call(this)!==!1&&(_igcmodal.prototype.forceHide.call(this),this.options.afterHide.call(this)),this},forceShow:function(){var highestZIndex=getModalZIndex(modalArr.sort(compareModalZIndex)[0].modal);return this.modal.style.zIndex=highestZIndex+1,elementHasClass(this.modal,openClassName)||(this.modal.className=this.modal.className+" "+openClassName),this},forceHide:function(){return elementHasClass(this.modal,openClassName)&&(this.modal.className=elementRemoveClass(this.modal,openClassName)),this},destroy:function(){document.body.removeChild(this.modal);var index=modalArr.indexOf(this);return index>-1&&modalArr.splice(index,1),null},setContent:function(content){var contentHolder=this.content.parentNode,newContent=buildModalContent(content);return contentHolder.removeChild(this.content),contentHolder.appendChild(newContent),this.content=newContent,this},isHidden:function(){return!elementHasClass(this.modal,openClassName)},isShowing:function(){return elementHasClass(this.modal,openClassName)},isVisible:function(){var isShowing=_igcmodal.prototype.isShowing.call(this);if(isShowing){for(var orderModalArr=modalArr.sort(compareModalZIndex),i=0,len=orderModalArr.length;len>i;i++)if(orderModalArr[i].isShowing()&&getModalZIndex(orderModalArr[i].modal)>getModalZIndex(this.modal))return!1;return!0}return!1}},_igcmodal.init=function(options){return this.closeButton=null,this.modal=null,this.options=null,options&&"object"==typeof options?this.options=extendDefaults(defaultOptions,options):this.options=defaultOptions,buildModal.call(this),initEvents.call(this),modalArr.push(this),this},_igcmodal.hideAll=function(shouldForceHide){for(var i=0,len=modalArr.length;len>i;i++)shouldForceHide?modalArr[i].forceHide():modalArr[i].hide()},_igcmodal.setDefaultOptions=function(options){if(!options||"object"!=typeof options)throw new Error("Invalid options parameter, typeof object required!");defaultOptions=extendDefaults(defaultOptions,options)},_igcmodal.init.prototype=_igcmodal.prototype,module.exports=_igcmodal},{}]},{},[1])(1)});
